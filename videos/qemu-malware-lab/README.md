# QEMU/KVM (Virt Manager) Malware Lab

## Install QEMU:
- [Debian](https://christitus.com/vm-setup-in-linux/)
- [Arch](https://computingforgeeks.com/install-kvm-qemu-virt-manager-arch-manjar/)

## ISOs:
- [Windows 10](https://www.microsoft.com/en-us/software-download/windows10ISO)
- [Ubuntu 20.04](https://releases.ubuntu.com/20.04/)

## FlareVM:
- windows based malware analysis machine
- [spice-guest-tools](https://www.spice-space.org/download.html)
- [FlareVM](https://github.com/mandiant/flare-vm)
- [Tools for Malware Development](https://github.com/CosmodiumCS/Malware-Development/tree/videos/tools-for-malware-development)

## REMnux:
- ubunutu based malware analysis machine
- credentials

| Entry     | Value       |
| --------- | ----------- |
| Full name | REMnux User |
| Username  | remnux      |
| Password  | malware     |

- install remnux on ubuntu
```bash
wget https://REMnux.org/remnux-cli
mv remnux-cli remnux
chmod +x remnux
sudo mv remnux /usr/local/bin
sudo apt install -y gnupg
sudo remnux install
# reboot
```

- blue jupyter
1. clone the repo
```bash
git clone --branch PMAT-lab https://github.com/HuskyHacks/blue-jupyter.git && cd blue-jupyter
```
2. run the docker build
```bash
sudo docker build -t bluejupyter .
```
3. instantiate the docker container
```bash
sudo docker run -it -p 8888:8888 -v /home/remnux/blue-jupyter/malware-analysis/dropbox/:/src/malware-analysis/dropbox bluejupyter
```

- inetsim
1. edit `sudo vim /etc/inetsim/inetsim.conf`
2. uncomment/comment
```bash
start_service dns
service_bind_address 0.0.0.0
dns_default_ip      10.0.0.X
```
3. run the following in a terminal
```bash
sudo systemctl disable systemd-resolved.service
sudo service systemd-resolved stop
```

